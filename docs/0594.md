# Xamarin Profile

> 原文:[https://www.javatpoint.com/xamarin-profiler](https://www.javatpoint.com/xamarin-profiler)

应用程序的成功取决于最终用户的体验。作为开发人员，我们可能会在我们的应用程序中实现一些出色的功能。但是，如果应用程序充满崩溃，那么用户可能想要摆脱这种类型的应用程序。用 Xamarin 开发移动应用程序很容易，但仅仅开发一个移动应用程序是不够的。要开发一款优秀的手机应用，必须通过特定的参数。应用程序应该是用户友好的；UI 应该在所有的设备和平台上都是完美的。应该有适当的内存管理；应该处理所有的异常。使用 Xamarin profiler，开发人员可以轻松找到内存泄漏、解决性能问题和异常。Xamarin profiler 有助于了解应用程序的内存消耗。Xamarin profiler 提供的参数使应用程序变得完美。

## 历史

从历史上看，Mono 有一些强大的功能，如命令行分析器，它收集关于 Mono 运行时中运行的名为 Monolog Profiler 的程序的信息。Xamarin Profiler 是 Monolog profiler 的一个图形界面，它支持在 windows 上对 Android、iOS 和 tvOS 应用程序进行分析。

## 解决办法

Xamarin Profiler 提供了不同的选项来衡量性能，它们是:

1.  **分配:**给出关于内存的数据。它为我们提供了关于内存分配、对象分配、私有字节和调用树的数据。
2.  **周期:**为了跟踪内存周期，我们将获得周期图和堆栈跟踪——这有助于开发人员找到内存泄漏。
3.  **时间分析器:**时间分析器用于跟踪应用程序的性能。

## 下载并安装

Xamarin Profiler 是一个独立的应用程序，它与 Visual Studio for Mac 集成在一起。这里，我们在集成开发环境中启用概要分析。

**下载并安装我们平台的软件包**

*   苹果
*   Windows 操作系统

### 在 Windows 中下载

要下载 Xamarin Profiler，请点击此链接:[https://download . freedownloadmanager . org/Windows-PC/Xamarin-Profiler/FREE-1 . 5 . 5 . 0 . html](https://download.freedownloadmanager.org/Windows-PC/Xamarin-Profiler/FREE-1.5.5.0.html)

![Xamarin Profiler](../Images/3d1a735561d5ce5897094afe7afbe010.png)

**勾选单选按钮，接受许可协议中的条款。**

![Xamarin Profiler](../Images/7e7ababe423158d4003091824a31ab24.png)

**选择安装 Xamarin Profiler 的目标文件夹。**

![Xamarin Profiler](../Images/0366eb7372ae83c47248fe64512dc5ac.png)

**点击安装，开始安装。**

![Xamarin Profiler](../Images/8d8fbc4e62be8a27fb4f86189166d9c9.png)

**安装开始:**

![Xamarin Profiler](../Images/37bd9893fe0c9397ea53e211fdab880b.png)
![Xamarin Profiler](../Images/39c5b3e6746df9330d6c93053675237e.png)

**下载后，启动安装程序，将 Xamarin Profiler 添加到我们的系统中。**

## 探查器支持

以下平台支持 Xamarin Profiler:

*   用于苹果电脑的 Visual Studio(带有企业版的苹果电脑)
    *   机器人
        *   设备，仿真器
    *   IOS
        *   设备和模拟器
    *   不支持时间仪器
        *   设备和模拟器
    *   苹果个人计算机
*   Visual Studio(企业版)
    *   机器人
        *   设备和仿真器
    *   实验性的
        *   设备和模拟器
    *   电视呢
        *   设备和模拟器

## 探查器基础知识

**允许在我们的应用程序中进行分析**

在我们成功配置我们的应用程序之前，我们需要在应用程序的项目选项中允许配置。

为此，我们必须遵循以下步骤:

**构建- >安卓调试- >启用开发者工具**

![Xamarin Profiler](../Images/4f3bad91fe80e53ff0e451fc15d747f3.png)

## 启动探查器

Xamarin Profiler 可以在我们分析安卓或 iOS 应用程序时从我们的 IDE 启动，也可以作为独立的应用程序启动。

**从 Visual Studio 推出**

1.  首先，我们应该确保在 Visual Studio 中加载了应用程序，并选择默认的调试配置。
2.  在 Visual Studio 中浏览至**Analyze->Xamarin Profiler**，打开 Profiler，如截图所示:

![Xamarin Profiler](../Images/93eb4d175defc537997b2d3aeeaf4810.png)

Visual Studio 启动探查器并开始自动分析应用程序。探查器可用于测量内存和性能。内存管理可以通过分配和时间分析器工具来实现。

### 保存和加载探查器会话

要随时保存概要分析会话，我们必须从概要分析菜单栏中选择**文件- >另存为**。探查器将文件保存在**中。mlpd** 格式。这是一种高度压缩的数据分析格式。

安装 Xamarin Profiler 应用程序后，可以在我们的应用程序目录中找到该应用程序。

![Xamarin Profiler](../Images/5f865ccd3b61f8c7e5a68c2ca16d6083.png)

我们可以加载**。打开独立应用程序，将 mlpd** 文件导入 Profiler。为此，我们必须选择**选择目标**并加载数据。

### 探查器功能

Xamarin Profiler 有五个部分，如下所示:

![Xamarin Profiler](../Images/56c2416e9d867ffab9bf78f49fe9a670.png)

**工具栏:**工具栏位于 Profiler 的顶部，显示了启动和停止 Profiling 的选项。在这里，我们将选择目标进程，查看应用程序的运行时间，并将选择显示探查器应用程序的拆分视图。

**仪器列表:**显示分析会话中所有已加载仪器的列表。

**曲线图:**这些图表与仪器列表中的相关仪器水平相关。滑块(滑块的位置在**时间剖面仪**的下方)可以用来改变刻度。

**仪器详细区域:**这将显示当前仪器显示的数据。

**检查器视图:**显示由片段控件选择的部分。该部分取决于所选仪器，包括:**配置设置、统计、堆栈跟踪信息和根路径**。

### 探查器的功能有:

**分配:**分配工具提供关于应用程序对象的信息，无论它们是创建的还是垃圾收集的。

**配置图**将显示在 Profiler 的顶部。分配图显示了在性能分析期间定期分配的内存量。目前，分配图是分配的总数，而不是当时堆的大小。分配图永远不会下降，它会增加。分配图包括堆栈上对象的分配。即使对于同一个应用程序，chart 看起来也会不同，这完全取决于我们正在使用的运行时版本。

![Xamarin Profiler](../Images/6a051630a7df750dda074ebf6827144b.png)

分配图显示了分配工具中数据的不同视图。分配图允许开发人员分析应用程序如何使用和释放内存。

### 观点是:

**1。分配:**分配显示所有分配的列表，并按类名分组。分配提供了关于所使用的类和方法的信息，以及所使用的类的集合大小。双击类可以显示内存分配。

![Xamarin Profiler](../Images/708769c4140d323a2225881a8512b288.png)

分配的检查器视图提供了过滤和分组对象的选项，提供了关于内存分配以及堆栈跟踪和根路径的统计信息。

*   **调用树:**这将显示应用程序中所有线程的整个调用树，并包括每个节点上的内存分配信息。当在列表中选择一个元素时，所有同级节点都显示为灰色。我们可以展开树，或者双击元素深入其中。当我们显示数据视图时，可以使用显示设置，即检查器视图来更改数据的显示方式。呼叫树包括两个选项；它们是:
    *   **倒排调用树:**这由从上到下的堆栈跟踪组成。倒排调用树是一个方便的视图选项；它表明了 CPU 花费时间的最深刻的方法。
    *   **按线程分开:**此选项按线程组织调用树。

![Xamarin Profiler](../Images/2b63cd61d869255f7ed571f746014ef0.png)

*   **快照:**此区域显示有关内存快照的信息。我们可以在应用程序的概要分析运行时生成这些。为此，我们必须点击工具栏中的相机按钮来捕捉所有我们想要查看保留和释放了多少内存的点。然后，我们可以点击每个快照来探索引擎盖下正在发生的事情。

#### 注意:在这里，我们应该注意到，我们只能在应用程序的 Profiling 处于活动状态时拍摄快照。

![Xamarin Profiler](../Images/59f1b0c70954f35ae836ee43fb84da5f.png)

**2。循环:**通过使用 C#和 F#托管代码。通过使用 C#代码，创建对象的引用变得非常普通和容易，永远不会被处理掉。该仪器允许我们精确定位这些对象，并在我们的应用程序中显示循环引用。

![Xamarin Profiler](../Images/e8ba16fbf00ab67a742c2c91d64457bb.png)

**时间分析器:**时间分析器工具测量应用程序的每种方法的花费时间。应用程序定期暂停，并在每个活动线程上运行堆栈跟踪。仪器详细信息区域中的每一行都显示了已遵循的执行路径。

下面的截图显示了应用程序运行时收到的样本数量。

![Xamarin Profiler](../Images/28c7b1152662dac1ddc70d6aa737bf6f.png)

*   **调用树:**调用树显示每个方法花费的时间。

![Xamarin Profiler](../Images/8c0066fbb491cc5da6d179c22e0de0ca.png)

* * *